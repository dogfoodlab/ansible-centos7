---
- name: install modules
  become: yes
  yum:
    name:
      - make
      - gcc
      - gcc-c++
      - zlib-devel
      - bzip2-devel
      - readline-devel
      - openssl-devel
      - libffi-devel
      - xz-devel

- name: install ius-release
  become: yes
  yum:
    name:
      - https://repo.ius.io/ius-release-el7.rpm

- name: disable ius
  become: yes
  replace:
    path: /etc/yum.repos.d/ius.repo
    regexp: "^enabled.+$"
    replace: "enabled = 0"

- name: install git224
  become: yes
  yum:
    name:
      - git224
    enablerepo: ius
